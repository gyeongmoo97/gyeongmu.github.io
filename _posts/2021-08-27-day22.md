---
title: Day22 Controller
layout: single
author_profile: true
read_time: true
comments: true
share: true
related: true
categories:
- DB
description: .

meta_keywords: java,static,memory
last_modified_at: '2021-08-10 12:00:00 +0800'
toc: true
toc_sticky: false
toc_label: 목차
---



# 이전시간

mapping을 해봄

html 파일로 웹을 보여주기 위해서 jsp 파일로 mapping 하는 과정임



@Controller



@RequestMapping("/ch02")



<%@ include file="/WEB-INF/views/common/header.jsp" %>

include 

```html
<span class="mr-2">Ch02.</span><a class="text-white" href="ch02/content">Controller/RequestMapping</a>
```

href앞에는 8080 앞의 내용생략됨



![image](https://user-images.githubusercontent.com/65274952/131052829-be495232-099e-42e5-a33f-612d5268a86b.png)



# **Controller**



## RequestMapping

클래스에 @RequestMapping적용되면 공통 경로

메소드에 @RequestMapping, @GetMapping, @PostMapping 적용되면 세부 경로



## 요청방식에 따른 Mapping

redirect??

```java
@RequestMapping("/content")
	public String content() {
		logger.info("ch02실행");
		return "ch02/content";
		//return 값은 defualt경로 + return 값.jsp 파일을 연다.
	}
```

요청과 메서드를 연결해주는 requestMapping 임



```java
@GetMapping("/method1")
	public String method1() {
		return "redirect:/ch02/content";
	}
	
	@PostMapping("/method2")
	public String method2() {
		return "redirect:/ch02/content";
	}
	
	@PutMapping("/method2")
	public String method3() {
		return "redirect:/ch02/content";
	}
	
	@DeleteMapping("/method4")
	public String method4() {
		return "redirect:/ch02/content";
	}
```

get post put delete 등 특정 방식의 요청이 ㅇ들어왔을 때만 

요청화 메서드를 연결 시켜주는 것도 가능하다.



같은 주소여도 요청방식에 따라 다른 메서드를 실행 시킬 수 있다.

만약 요청방식과 관계없이 경로만 맞다면 RequestMapping 사용



# JS script삽입법

```java
<%@ page contentType= "text/html; charset=UTF-8" %>

<%@ include file="/WEB-INF/views/common/header.jsp" %>

<div class="card m-2">
	<div class="card-header">
		Controller/RequestMapping
	</div>
	<div class="card-body">
		<div class="card m-2">
			<div class="card-header">
				요청방식 별 메소드 매핑
			</div>
			<div class="card-body">
				<button class="btn btn-info btn-sm">GET방식</button>
				<button class="btn btn-info btn-sm">POST방식</button>
				<button class="btn btn-info btn-sm">PUT방식</button>
				<button class="btn btn-info btn-sm">DELETE방식</button>
				
			</div>
		</div>
		
		
	</div>
</div>

<%@ include file="/WEB-INF/views/common/footer.jsp" %>
```





## **redirect** 

다시 호출해주는거임



```java
		return "redirect:/ch02/content";
```

## java 어노테이션 작성법 

```java
@RequestMapping(value="/method")
//는 어노테이션에 단일한 값이 들어가 있어서
@RequestMapping("/method") 
//속성을 생략하고 표시가능

//하지만 2개 이상의 속성을 표시해야하는 상황이면 anotation 안의 속성(value, method)를 명시해줘야한다.
@RequestMapping(value="/method", method = RequestMethod.GET)
```



```java
@GetMapping("/method")
	@RequestMapping(value="/method", method = RequestMethod.GET)
```





# PostMan

http 요청을 원하는대로 줄 수 있음

서버의 동작을 test 하는 툴로 사용

사용하는 것을 아는것이 좋다고함



프론트가 미완성일때 백엔드를 테스트 하려면 postman 사용하면 좋다.

https://www.postman.com/

![image](https://user-images.githubusercontent.com/65274952/131057319-fc4e1d19-1993-442f-9053-ecca5e04f7e3.png)



![image](https://user-images.githubusercontent.com/65274952/131057822-32b62b87-a8c7-4530-812f-fe4e95cee199.png)



![image](https://user-images.githubusercontent.com/65274952/131057850-d5f71cdb-7e29-4a8c-ad36-b6f0b531f098.png)

![image](https://user-images.githubusercontent.com/65274952/131057884-d805cee6-c584-454a-88d4-6df42e5fe36d.png)

여러가지 요청방식 정할 수 있따.

![image](https://user-images.githubusercontent.com/65274952/131057934-e13ee41d-9a56-499b-b010-23ee3032d5e6.png)





![image](https://user-images.githubusercontent.com/65274952/131058203-79f30079-4e2e-4892-b5a0-21068ac24e6d.png)

![image](https://user-images.githubusercontent.com/65274952/131058336-e1370616-7063-4ae1-9d62-77b93ddbf67e.png)

잘 작동함





# 요청방식별 매핑

요청이 어떠한 방식으로 기술되어서 서버로 들어오나?

![image](https://user-images.githubusercontent.com/65274952/131058430-08be5f86-aeb5-4f1e-8b92-9ac5a9a2b957.png)

시작행에 요청방식이 포함됨.

크롬과 이클립스에서 확인해보기 =>



크롬 network 에서 확인가능

![image](https://user-images.githubusercontent.com/65274952/131058660-6ddcad24-e045-40f3-8b24-be4617dc1532.png)







![image](https://user-images.githubusercontent.com/65274952/131058690-cd1b9013-9571-49d2-815b-57f219687960.png)
![image](https://user-images.githubusercontent.com/65274952/131058712-7f35bd66-0c74-41d0-aae8-4c355cbd658e.png)
![image](https://user-images.githubusercontent.com/65274952/131058728-416de62a-9e49-4027-af5f-c27d8421848a.png)

![image](https://user-images.githubusercontent.com/65274952/131058757-683cc7ee-722f-42e4-8c60-8ed2ed8cff90.png)
![image](https://user-images.githubusercontent.com/65274952/131058778-e5d07f8e-a960-45b3-a19c-255d09d97ec8.png)

![image](https://user-images.githubusercontent.com/65274952/131058787-6769f0f7-cdcb-419c-a3c1-5d3a9e50cb61.png)

![image](https://user-images.githubusercontent.com/65274952/131058814-0c2d8fda-4f49-4e80-987b-3abb97729536.png)



![image](https://user-images.githubusercontent.com/65274952/131058991-bca44a8d-cb7e-496b-acff-6f6eccf47573.png)


![image](https://user-images.githubusercontent.com/65274952/131058945-45c1b5bd-48da-4447-ae69-5e2541062fc9.png)

중간에 TCP모니터라는 만들고 8090포트를 할당해준다.
TCP 모니터는 브라우저와 서버의 중간다리 역할을 하면서 중간에 왔다갔다하는 데이터를 볼 수 있게 해준다.



![image](https://user-images.githubusercontent.com/65274952/131059348-e153906a-5ba8-4c42-8cf7-6d2cf4e1e915.png)

왼쪽은 브라우저가 서버로 보낸 http (Request Http)
오른쪽은 서버가 브라우저에게 보낸 http (Response Http)
브라우저와 서버는 http 로 통신을 하고 tcp 모니터로 그것을 보여줌
![image](https://user-images.githubusercontent.com/65274952/131059565-69b96b21-0e93-44d2-8176-392ca9474520.png)

지금은 브라우저의 요청에 대해 중심적으로 본다.
특히 **요청방식**이 어디에 기술되어서 넘어가는지를 본다.



**요청방식은 http의 가장 첫부분** **header**에 실려서 넘어온다.

![image](https://user-images.githubusercontent.com/65274952/131059840-92e1e1b7-cf13-40a3-a849-03638a25d8e6.png)

추후에 어떤 상황에 어떤 요청방식쓰는지 배운다



# 요청방식 정리



32page 까지의 실습 진행했다.

# 자투리

explorer 보는 방식 변경

![image](https://user-images.githubusercontent.com/65274952/131052093-0bc67bb9-e101-46b1-97c3-750d59b1a471.png)



![image](https://user-images.githubusercontent.com/65274952/131052221-d7e03acf-2609-4f32-86b5-280fa0eb9e2d.png)

패키지 안에 서브 패키지를 만들어도 상관이없다.

루트가 되는 메인 패키지 안에만 있으면 된다.



> logger import할때는 sjf4logger 써야함

![image](https://user-images.githubusercontent.com/65274952/131052872-abb9f479-1c36-402a-8d4e-a0f8c6ace61c.png)

> 어노테이션도 클래스이기 때문에 import 과정이 필요하다.
>
> 



+TCP/IP Monitor

![image](https://user-images.githubusercontent.com/65274952/131060289-d117ec64-0db5-426c-b72c-93ecc5b03d76.png)

위에서 계속해서 새로운 탭이 나오는게 아니다

왜 get post 는 나오는데 DELETE PUT은 안나오나??? 했었는데

get post 처럼 탭을 갱신? 하지 않으면 

기존 내용의 아래에 추가적으로 붙는거였다.
